@(tweets: java.util.List[status.SimpleStatus])

@main("VenitianBot") {
    <div class="page-header">
        <h1>VenitianBot in action <small>See received tweets</small></h1>
    </div>

    <div class="col-md-6" id="results">
    @for(sStatus <- tweets) {
        @sStatus.toHTML
    }
    </div>

    <div class="col-md-6" id="replies">
    </div>


    <script type="text/javascript" charset="utf-8">
        var venitian_ws = new WebSocket("@routes.Application.getSocket().webSocketURL()");
        venitian_ws.onmessage = function(msg) {
            console.log("received message from websocket:\n"+ msg.data);
            var results = $("#results");
            var replies = $("#replies");
            if(results.children().size() == 15) {
                results.children().last().remove();
            }
            results.prepend(msg.data);
            if(replies.children().size() == 15) {
                replies.children().last().remove();
            }
            replies.prepend(msg.data);
        };
    </script>
}